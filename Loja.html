<!DOCTYPE html>
<html>
<head>
    <title>Loja</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script>
        // Função para adicionar ou remover a quantidade do produto
        function alterarQuantidade(produtoId, acao) {
            const quantidadeElement = document.getElementById('Qtd_' + produtoId);
            let quantidadeAtual = parseInt(quantidadeElement.textContent);

            if (acao === 'adicionar') {
                quantidadeAtual++;
            } else if (acao === 'remover' && quantidadeAtual > 0) {
                quantidadeAtual--;
            }

            quantidadeElement.textContent = quantidadeAtual;

            // Atualizar o valor total do produto
            atualizarTotal(produtoId, quantidadeAtual);

            // Atualizar o subtotal
            atualizarSubtotal();
        }

        // Função para atualizar o total do produto com base na quantidade
        function atualizarTotal(produtoId, quantidade) {
            const valorElement = document.getElementById('Valor_' + produtoId);
            const valorProduto = parseFloat(valorElement.textContent.replace('R$ ', '').replace('.', ''));
            const totalElement = document.getElementById('Total_' + produtoId);
            const total = valorProduto * quantidade;
            totalElement.textContent = 'R$ ' + total.toFixed(2).replace('.', ',');
        }

        // Função para atualizar o subtotal
        function atualizarSubtotal() {
            let subtotal = 0;
            for (let i = 1; i <= 3; i++) {
                const totalElement = document.getElementById('Total_' + i);
                const totalProduto = parseFloat(totalElement.textContent.replace('R$ ', '').replace('.', '').replace(',', '.'));
                subtotal += totalProduto;
            }
            document.getElementById('subtotal').textContent = 'R$ ' + subtotal.toFixed(2).replace('.', ',');
        }
    </script>
</head>
<body>
    <div class="container">
        <h1><i style="color: red;" class="bi bi-cart-check"></i> LOJINHA</h1>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Imagem</th>
                    <th>Produto</th>
                    <th>Preço</th>
                    <th>Qtd</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <img src="img/produto 1/iphone-card-40-iphone15prohero-202309_FMT_WHH.jpg" alt="produto 1" width="200">
                    </td>
                    <td>Celular</td>
                    <td id="Valor_1">R$ 3000</td>
                    <td>
                        <span class="badge text-bg-danger" onclick="alterarQuantidade(1, 'remover')"><i class="bi bi-dash"></i></span>
                        <span id="Qtd_1">0</span>
                        <span class="badge text-bg-success" onclick="alterarQuantidade(1, 'adicionar')"><i class="bi bi-plus"></i></span>
                    </td>
                    <td id="Total_1">R$ 0,00</td>
                </tr>
                <tr>
                    <td>
                        <img src="img/produto 2/TV-Suba-40-Polegadas-LED-Compativel-com-as-Normas-de-TV-Digital-SB-TV3201-Preta-110V.png" alt="produto 2" width="200">
                    </td>
                    <td>Tv</td>
                    <td id="Valor_2">R$ 2000</td>
                    <td>
                        <span class="badge text-bg-danger" onclick="alterarQuantidade(2, 'remover')"><i class="bi bi-dash"></i></span>
                        <span id="Qtd_2">0</span>
                        <span class="badge text-bg-success" onclick="alterarQuantidade(2, 'adicionar')"><i class="bi bi-plus"></i></span>
                    </td>
                    <td id="Total_2">R$ 0,00</td>
                </tr>
                <tr>
                    <td>
                        <img src="img/produto 3/notebook-gamer-superframe-force-intel-core-i7-12650h-rtx-4050-6gb-16gb-ddr4-ssd-1tb_185155.jpg" alt="produto 3" width="200">
                    </td>
                    <td>Notebook</td>
                    <td id="Valor_3">R$ 3500</td>
                    <td>
                        <span class="badge text-bg-danger" onclick="alterarQuantidade(3, 'remover')"><i class="bi bi-dash"></i></span>
                        <span id="Qtd_3">0</span>
                        <span class="badge text-bg-success" onclick="alterarQuantidade(3, 'adicionar')"><i class="bi bi-plus"></i></span>
                    </td>
                    <td id="Total_3">R$ 0,00</td>
                </tr>
            </tbody>
        </table>
        <footer class="text-center">
            <span><i style="color: green;" class="bi bi-currency-dollar"></i> Subtotal: <span id="subtotal">R$ 0,00</span></span>
        </footer>
    </div>
</body>
</html>
